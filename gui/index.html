<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podium - PHP Development Platform</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <h1>Podium</h1>
                    <span class="tagline">Professional PHP Development Platform</span>
                </div>
                <div class="header-actions">
                    <button class="btn btn-success" onclick="startAllProjects()">Start All</button>
                    <button class="btn btn-warning" onclick="stopAllProjects()">Stop All</button>
                    <button class="btn btn-primary" onclick="createNewProject()">+ New Project</button>
                    <button class="btn btn-primary" onclick="cloneProject()">üì• Clone</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Project Dashboard -->
            <section class="dashboard">

                <!-- Projects Grid -->
                <div id="projects-grid" class="projects-grid">
                    <!-- Projects will be loaded here -->
                    <div class="project-card placeholder">
                        <div class="project-icon">üöÄ</div>
                        <h3>Create Your First Project</h3>
                        <p>Get started by creating a new Laravel or WordPress project</p>
                        <button class="btn btn-primary" onclick="createNewProject()">+ New Project</button>
                    </div>
                </div>
            </section>

            <!-- Services Status -->
            <section class="services">
                <div class="services-header">
                    <h3>Shared Services</h3>
                    <div class="services-controls">
                        <button class="btn btn-success btn-small" onclick="startServices()">‚ñ∂ Start Services</button>
                        <button class="btn btn-warning btn-small" onclick="stopServices()">‚èπ Stop Services</button>
                        <button class="btn btn-primary btn-small" onclick="openUrl('http://phpmyadmin')">üóÑÔ∏è phpMyAdmin</button>
                    </div>
                </div>
                <div id="services-grid" class="services-grid">
                    <!-- Services will be loaded dynamically -->
                </div>
            </section>
        </main>

        <!-- Modals -->
        <div id="new-project-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Create New Project</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="new-project-form">
                        <div class="form-group">
                            <label>Project Name</label>
                            <input type="text" id="project-name" placeholder="My Awesome Project" required>
                            <small class="form-help">Will be sanitized for container name (spaces‚Üídashes, lowercase)</small>
                        </div>

                        <div class="form-group">
                            <label>Description</label>
                            <input type="text" id="project-description" placeholder="A brief description of your project">
                            <small class="form-help">Optional description shown on the project tile</small>
                        </div>

                        <div class="form-group">
                            <label>Project Emoji</label>
                            <select id="project-emoji">
                                <option value="üöÄ">üöÄ Rocket</option>
                                <option value="üíª">üíª Computer</option>
                                <option value="üåü">üåü Star</option>
                                <option value="üî•">üî• Fire</option>
                                <option value="‚ö°">‚ö° Lightning</option>
                                <option value="üéØ">üéØ Target</option>
                                <option value="üèÜ">üèÜ Trophy</option>
                                <option value="üíé">üíé Diamond</option>
                                <option value="üé®">üé® Art</option>
                                <option value="üîß">üîß Wrench</option>
                                <option value="üì±">üì± Mobile</option>
                                <option value="üåê">üåê Globe</option>
                                <option value="üéÆ">üéÆ Game</option>
                                <option value="üìä">üìä Chart</option>
                                <option value="üõ°Ô∏è">üõ°Ô∏è Shield</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Project Type</label>
                            <div class="radio-group">
                                <label><input type="radio" name="project-type" value="laravel" checked> Laravel</label>
                                <label><input type="radio" name="project-type" value="wordpress"> WordPress</label>
                                <label><input type="radio" name="project-type" value="basic"> PHP</label>
                            </div>
                        </div>

                        <div class="form-group" id="laravel-version-group">
                            <label>Laravel Version</label>
                            <select id="laravel-version">
                                <option value="12.x">Laravel 12.x (Latest)</option>
                                <option value="11.x">Laravel 11.x (LTS)</option>
                                <option value="10.x">Laravel 10.x</option>
                            </select>
                        </div>

                        <div class="form-group" id="wordpress-version-group" style="display: none;">
                            <label>WordPress Version</label>
                            <select id="wordpress-version">
                                <option value="latest">Latest WordPress</option>
                                <option value="6.4">WordPress 6.4</option>
                                <option value="6.3">WordPress 6.3</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <input type="checkbox" id="create-github-repo" />
                            <label for="create-github-repo">Create GitHub repository</label>
                        </div>

                        <div class="form-group" id="github-options" style="display: none;">
                            <label>GitHub Organization (Optional)</label>
                            <input type="text" id="organization" placeholder="mycompany">
                            <small class="form-help">Leave blank to create in your personal account</small>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="submitNewProject()">Create Project</button>
                </div>
            </div>
        </div>

        <!-- Remove Project Modal -->
        <div id="remove-project-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Remove Project</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to remove the project <strong id="remove-project-name"></strong>?</p>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="preserve-database" />
                            Preserve database (keep project data)
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                    <button class="btn btn-danger" onclick="confirmRemoveProject()">Remove Project</button>
                </div>
            </div>
        </div>

        <!-- Edit Project Modal -->
        <div id="edit-project-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Edit Project</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="edit-project-form">
                        <div class="form-group">
                            <label>Display Name</label>
                            <input type="text" id="edit-display-name" required>
                        </div>

                        <div class="form-group">
                            <label>Description</label>
                            <input type="text" id="edit-description" placeholder="Optional description">
                        </div>

                        <div class="form-group">
                            <label>Project Emoji</label>
                            <select id="edit-emoji">
                                <option value="üöÄ">üöÄ Rocket</option>
                                <option value="üíª">üíª Computer</option>
                                <option value="üåü">üåü Star</option>
                                <option value="üî•">üî• Fire</option>
                                <option value="‚ö°">‚ö° Lightning</option>
                                <option value="üéØ">üéØ Target</option>
                                <option value="üèÜ">üèÜ Trophy</option>
                                <option value="üíé">üíé Diamond</option>
                                <option value="üé®">üé® Art</option>
                                <option value="üîß">üîß Wrench</option>
                                <option value="üì±">üì± Mobile</option>
                                <option value="üåê">üåê Globe</option>
                                <option value="üéÆ">üéÆ Game</option>
                                <option value="üìä">üìä Chart</option>
                                <option value="üõ°Ô∏è">üõ°Ô∏è Shield</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                    <button class="btn btn-primary" onclick="submitEditProject()">Save Changes</button>
                </div>
            </div>
        </div>

        <!-- Manage Service Modal -->
        <div id="manage-service-modal" class="modal manage-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="manage-service-title">Manage Service</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="stats-grid" id="service-stats">
                        <!-- Stats will be populated dynamically -->
                    </div>
                    
                    <div class="flush-section">
                        <h4>‚ö†Ô∏è Danger Zone</h4>
                        <p>Flushing will permanently delete all data in this service.</p>
                        <button class="btn btn-danger" onclick="flushServiceData()" id="flush-button">
                            üóëÔ∏è Flush All Data
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" onclick="closeModal()">Close</button>
                    <button class="btn btn-primary" onclick="refreshServiceStats()" id="refresh-stats-button">
                        üîÑ Refresh Stats
                    </button>
                </div>
            </div>
        </div>

        <!-- Clone Project Modal -->
        <div id="clone-project-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üì• Clone Project</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="clone-project-form">
                        <div class="form-group">
                            <label for="clone-repo-url">Git Repository URL:</label>
                            <input type="url" id="clone-repo-url" name="repoUrl" required placeholder="https://github.com/user/repo.git">
                            <span class="form-help">Enter the full Git repository URL to clone</span>
                            <div class="field-error" id="clone-repo-url-error"></div>
                        </div>
                        <div class="form-group">
                            <label for="clone-project-name">Local Project Name (optional):</label>
                            <input type="text" id="clone-project-name" name="projectName" maxlength="50" placeholder="Leave empty to use repository name">
                            <span class="form-help">If empty, will use the repository name</span>
                            <div class="field-error" id="clone-project-name-error"></div>
                        </div>
                        <div class="form-actions">
                            <button type="button" onclick="closeModal()">Cancel</button>
                            <button type="submit">üì• Clone Project</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div id="loading-overlay" class="loading-overlay" style="display: none;">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <h3 id="loading-message">Please wait...</h3>
                <p id="loading-details">Processing your request</p>
            </div>
        </div>
    </div>


    <script src="dist/renderer.js"></script>

</body>
</html>
